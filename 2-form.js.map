{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["import { isEmail } from \"validator\"\nimport iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\"\nconst storageKey = \"feedback-form-state\"\nconst formData = {\n\temail: JSON.parse(localStorage.getItem(storageKey))?.email ?? \"\",\n\tmessage: JSON.parse(localStorage.getItem(storageKey))?.message ?? \"\",\n}\nlocalStorage.setItem(storageKey, JSON.stringify(formData))\nconst form = document.querySelector(\".feedback-form\")\n;[...form.elements].map(item => {\n\tif (item.nodeName !== \"INPUT\" && item.nodeName !== \"TEXTAREA\") return\n\titem.value = formData[item.name]\n})\nconst checkValidity = () => {\n\treturn (\n\t\tformData.email.trim() === \"\" ||\n\t\t!isEmail(formData.email) ||\n\t\tformData.message.trim() === \"\"\n\t)\n}\nform.addEventListener(\"input\", e => {\n\tformData[e.target.name] = e.target.value\n\tlocalStorage.setItem(storageKey, JSON.stringify(formData))\n})\nform.addEventListener(\"submit\", e => {\n\te.preventDefault()\n\tif (checkValidity()) {\n\t\tiziToast.error({\n\t\t\ttitle: \"Hey\",\n\t\t\tmessage: \"Fill please all fields!\",\n\t\t})\n\t\treturn\n\t}\n\tiziToast.success({\n\t\ttitle: \"Yoopeee\",\n\t\tmessage: \"Thank you for sending your message! ðŸ˜Š\",\n\t})\n\t;[...form.elements].map(item => {\n\t\tif (item.nodeName !== \"INPUT\" && item.nodeName !== \"TEXTAREA\") return\n\t\tformData[item.name] = \"\"\n\t\titem.value = \"\"\n\t})\n\tlocalStorage.removeItem(storageKey)\n})\n"],"names":["storageKey","formData","_a","_b","form","item","checkValidity","isEmail","iziToast"],"mappings":"2GAGA,MAAMA,EAAa,8BACnB,MAAMC,EAAW,CAChB,QAAOC,EAAA,KAAK,MAAM,aAAa,QAAQF,CAAU,CAAC,IAA3C,YAAAE,EAA8C,QAAS,GAC9D,UAASC,EAAA,KAAK,MAAM,aAAa,QAAQH,CAAU,CAAC,IAA3C,YAAAG,EAA8C,UAAW,EACnE,EACA,aAAa,QAAQH,EAAY,KAAK,UAAUC,CAAQ,CAAC,EACzD,MAAMG,EAAO,SAAS,cAAc,gBAAgB,EACnD,CAAC,GAAGA,EAAK,QAAQ,EAAE,IAAIC,GAAQ,CAC3BA,EAAK,WAAa,SAAWA,EAAK,WAAa,aACnDA,EAAK,MAAQJ,EAASI,EAAK,IAAI,EAChC,CAAC,EACD,MAAMC,EAAgB,IAEpBL,EAAS,MAAM,KAAI,IAAO,IAC1B,CAACM,EAAO,QAACN,EAAS,KAAK,GACvBA,EAAS,QAAQ,KAAI,IAAO,GAG9BG,EAAK,iBAAiB,QAAS,GAAK,CACnCH,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MACnC,aAAa,QAAQD,EAAY,KAAK,UAAUC,CAAQ,CAAC,CAC1D,CAAC,EACDG,EAAK,iBAAiB,SAAU,GAAK,CAEpC,GADA,EAAE,eAAgB,EACdE,EAAa,EAAI,CACpBE,EAAS,MAAM,CACd,MAAO,MACP,QAAS,yBACZ,CAAG,EACD,MACA,CACDA,EAAS,QAAQ,CAChB,MAAO,UACP,QAAS,wCACX,CAAE,EACA,CAAC,GAAGJ,EAAK,QAAQ,EAAE,IAAIC,GAAQ,CAC3BA,EAAK,WAAa,SAAWA,EAAK,WAAa,aACnDJ,EAASI,EAAK,IAAI,EAAI,GACtBA,EAAK,MAAQ,GACf,CAAE,EACD,aAAa,WAAWL,CAAU,CACnC,CAAC"}